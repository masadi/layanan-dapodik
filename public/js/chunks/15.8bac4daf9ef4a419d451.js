(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{8503:function(a,e,s){"use strict";s("Dqhr")},"8eGX":function(a,e,s){var t=s("JPst"),o=s("nm7J");(e=t(!1)).i(o),e.push([a.i,"[dir] .swal2-container .swal2-popup {\n  border-radius: 0.428rem;\n  padding-bottom: 1.5rem;\n}\n.swal2-container .swal2-popup .swal2-close:focus {\n  outline: none;\n}\n[dir] .swal2-container .swal2-popup .swal2-close:focus {\n  box-shadow: none;\n}\n.swal2-container .swal2-popup .swal2-content {\n  color: #6e6b7b;\n}\n.swal2-container .swal2-popup .swal2-title {\n  font-size: 1.5rem;\n  font-weight: inherit;\n  color: #5e5873;\n}\n[dir] .swal2-container .swal2-popup button.swal2-confirm:focus {\n  box-shadow: none;\n}\n.swal2-container .swal2-popup input.swal2-input {\n  height: 2.714rem;\n  font-size: 1rem;\n  color: #6e6b7b;\n  line-height: 1.45;\n}\n[dir] .swal2-container .swal2-popup input.swal2-input {\n  padding: 0.438rem 1rem;\n  border-color: #d8d6de;\n  border-radius: 0.357rem;\n}\n[dir] .swal2-container .swal2-popup input.swal2-input:focus {\n  border-color: #7367f0 !important;\n  box-shadow: 0 3px 10px 0 rgba(34, 41, 47, 0.1);\n}\n[dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step {\n  background-color: #7367f0;\n}\n[dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step ~ .swal2-progress-step-line, [dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step ~ .swal2-progress-step {\n  background-color: #b3adf7;\n}\n[dir] .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step-line {\n  background-color: #7367f0;\n}\n.swal2-container .swal2-popup pre {\n  min-height: 1.35rem;\n}\n[dir] .swal2-container .swal2-popup pre {\n  margin-top: 0.5rem;\n}\n.swal2-container .swal2-popup .swal2-footer {\n  color: #6e6b7b;\n}\n[dir] .swal2-container .swal2-popup .swal2-footer {\n  border-color: #ebe9f1;\n}\n.dark-layout .swal2-container .swal2-popup .swal2-title {\n  color: #d0d2d6;\n}\n[dir] .dark-layout .swal2-container .swal2-modal {\n  background-color: #283046;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-header .swal2-title {\n  color: #d0d2d6;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-header .swal2-icon-text {\n  color: inherit;\n}\n[dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-circular-line-left, [dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-circular-line-right, [dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-fix, [dir] .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-animate-success-icon {\n  background-color: #283046 !important;\n}\n.dark-layout .swal2-container .swal2-modal input.swal2-input {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-modal input.swal2-input {\n  border-color: #3b4253;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-content, .dark-layout .swal2-container .swal2-modal .swal2-html-container {\n  color: #b4b7bd;\n}\n.dark-layout .swal2-container .swal2-modal pre, .dark-layout .swal2-container .swal2-modal code {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-modal .swal2-input {\n  background-color: #283046;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-footer {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-modal .swal2-footer {\n  border-color: #3b4253;\n}\n.dark-layout .swal2-container .swal2-validation-message {\n  color: #b4b7bd;\n}\n[dir] .dark-layout .swal2-container .swal2-validation-message {\n  background-color: #161d31;\n}\nhtml[dir=rtl] .swal2-rtl .swal2-close {\n  left: 0;\n  right: auto;\n}",""]),a.exports=e},Dqhr:function(a,e,s){var t=s("8eGX");"string"==typeof t&&(t=[[a.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(t,o);t.locals&&(a.exports=t.locals)},m10P:function(a,e,s){"use strict";var t=s("XuX8"),o=new(s.n(t).a);e.a=o},x6JS:function(a,e,s){"use strict";s.r(e);s("sMBO"),s("oVuX"),s("FNk8");var t=s("IF94"),o=s("uIXr"),r=s("1uQM"),n=s("YZfj"),l=s("Zw+I"),i=s("oVt+"),d=s("sove"),c=s("Ed67"),w=s("R5cT"),p=s("GUe+"),m=s("AeMN"),u=s("X9p1"),f=s("xD+F"),b=s("SRip"),_=s("WRyL"),v=s("m10P"),h={components:{BCard:t.a,BCardHeader:o.a,BCardText:r.a,BCardBody:n.a,BCardFooter:l.a,BRow:i.a,BCol:d.a,BForm:c.a,BFormInput:w.a,BButton:p.a,BSpinner:m.a,BAlert:u.a,BFormFile:f.a,BImg:b.a},data:function(){return{isBusy:!0,form:{name:null,email:null,wa:null},feedback:{name:null,email:null,wa:null},state:{name:null,email:null,wa:null},name:"",feedback_name:"",name_State:null,email:"",feedback_email:"",email_State:null,foto:"",file:null,fileState:null,feedback_file:"",current_password:"",feedback_current_password:"",current_password_State:null,password:"",feedback_password:"",password_State:null,password_confirmation:"",feedback_password_confirmation:"",password_confirmation_State:null,dismissSecs:10,dismissCountDownProfile:0,dismissCountDown:0,alert_variant:"",alert_title:"",alert_text:"",readonly:!1,sekolah:{}}},created:function(){this.loadProfile()},methods:{loadProfile:function(){var a=this;this.$http.get("/user/profile").then((function(e){a.isBusy=!1;var s=e.data;a.form.name=s.name,a.form.email=s.email,a.form.wa=s.wa,a.foto=s.profile_photo_path,v.a.$emit("foto",a.foto)}))},countDownChangedProfile:function(a){this.dismissCountDownProfile=a},countDownChanged:function(a){this.dismissCountDown=a},onFileChange:function(a){this.file=a.target.files[0]},handleSubmit:function(){var a=this;this.state.name=null,this.feedback.name=null,this.state.email=null,this.feedback.email=null,this.state.wa=null,this.feedback.wa=null,this.fileState=null,this.feedback_file="";var e=new FormData;e.append("photo",this.file?this.file:""),e.append("name",this.form.name),e.append("email",this.form.email),e.append("wa",this.form.wa),this.$http.post("/user/update-profile",e).then((function(e){var s=e.data;s.errors?(a.state.name=!s.errors.name&&null,a.feedback.name=s.errors.name?s.errors.name.join(", "):"",a.state.email=!s.errors.email&&null,a.feedback.email=s.errors.email?s.errors.email.join(", "):"",a.state.wa=!s.errors.wa&&null,a.feedback.wa=s.errors.wa?s.errors.wa.join(", "):"",a.fileState=!s.errors.photo&&null,a.feedback_file=s.errors.photo?s.errors.photo.join(", "):""):(a.dismissCountDownProfile=a.dismissSecs,a.alert_variant=s.icon,a.alert_title=s.title,a.alert_text=s.text,a.loadProfile())}))},handleSubmitPassword:function(){var a=this;this.current_password_State=null,this.feedback_current_password="",this.password_State=null,this.feedback_password="",this.password_confirmation_State=null,this.feedback_password_confirmation="",this.$http.post("/user/update-profile",{password:this.password,password_confirmation:this.password_confirmation}).then((function(e){var s=e.data;if(s.errors)a.current_password_State=!s.errors.current_password&&null,a.feedback_current_password=s.errors.current_password?s.errors.current_password[0]:"",a.password_State=!s.errors.password&&null,a.feedback_password=s.errors.password?s.errors.password[0]:"",a.password_confirmation_State=!s.errors.password_confirmation&&null,a.feedback_password_confirmation=s.errors.password_confirmation?s.errors.password_confirmation[0]:"";else{var t="Ok",o="Logout!",r="btn btn-success";s.success&&(t='<font-awesome-icon icon="fa-solid fa-arrow-right-from-bracket" /> Logout!',o="Logout!",r="btn btn-danger"),a.$swal({icon:s.icon,title:s.title,text:s.text,customClass:{confirmButton:r},allowOutsideClick:!1,confirmButtonText:t,confirmButtonAriaLabel:o}).then((function(e){s.success&&a.logout()}))}}))},logout:function(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userData"),this.$ability.update(_.a),this.$router.push({name:"auth-login"})}}},k=(s("8503"),s("KHd+")),g=Object(k.a)(h,(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("div",[a.hasRole("sekolah")?s("b-card",{attrs:{"no-body":""}},[s("b-card-header",[s("h4",{staticClass:"card-title"},[a._v("Data Sekolah")]),a._v(" "),s("b-card-text",{staticClass:"text-muted"},[a._v("\n        Informasi detil data Sekolah.\n      ")])],1),a._v(" "),a.isBusy?s("b-card-body",[s("div",{staticClass:"text-center text-danger my-2"},[s("b-spinner",{staticClass:"align-middle"}),a._v(" "),s("strong",[a._v("Loading...")])],1)]):s("b-card-body",a._l(a.sekolah,(function(e,t){return s("b-row",{key:t},["sekolah_id"!==t?s("b-col",{attrs:{sm:"3"}},[s("label",[a._v(a._s(t.replace("_"," ").toUpperCase()))])]):a._e(),a._v(" "),"sekolah_id"!==t?s("b-col",{attrs:{sm:"9"}},[a._v("\n          : "+a._s(e)+"\n        ")]):a._e()],1)})),1)],1):a._e(),a._v(" "),s("b-card",{attrs:{"no-body":""}},[s("b-card-header",[s("h4",{staticClass:"card-title"},[a._v("Informasi Profil Pengguna")]),a._v(" "),s("b-card-text",{staticClass:"text-muted"},[a._v("\n        Perbaharui informasi profil dan alamat email akun Anda jika diperlukan.\n      ")])],1),a._v(" "),s("b-form",{ref:"form_profile",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),a.handleSubmit(e)}}},[a.isBusy?s("b-card-body",[s("div",{staticClass:"text-center text-danger my-2"},[s("b-spinner",{staticClass:"align-middle"}),a._v(" "),s("strong",[a._v("Loading...")])],1)]):s("b-card-body",[s("b-alert",{attrs:{show:a.dismissCountDownProfile,dismissible:"",variant:a.alert_variant},on:{dismissed:function(e){a.dismissCountDownProfile=0},"dismiss-count-down":a.countDownChangedProfile}},[s("div",{staticClass:"alert-body"},[s("span",[s("strong",[a._v(a._s(a.alert_title))]),a._v(" "+a._s(a.alert_text))])])]),a._v(" "),s("b-row",[s("b-col",{attrs:{cols:"7"}},[s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{sm:"3"}},[s("label",{attrs:{for:"name"}},[a._v("Nama Lengkap")])]),a._v(" "),s("b-col",{attrs:{sm:"9"}},[s("b-form-input",{attrs:{id:"nama",type:"text","invalid-feedback":a.feedback.name,state:a.state.name},model:{value:a.form.name,callback:function(e){a.$set(a.form,"name",e)},expression:"form.name"}}),a._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:a.feedback.name,expression:"feedback.name"}],staticClass:"text-danger"},[a._v(a._s(a.feedback.name))])],1)],1),a._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{sm:"3"}},[s("label",{attrs:{for:"email"}},[a._v("Email")])]),a._v(" "),s("b-col",{attrs:{sm:"9"}},[s("b-form-input",{attrs:{id:"email",type:"email","invalid-feedback":a.feedback.email,state:a.state.email,readonly:a.readonly},model:{value:a.form.email,callback:function(e){a.$set(a.form,"email",e)},expression:"form.email"}}),a._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:a.feedback.email,expression:"feedback.email"}],staticClass:"text-danger"},[a._v(a._s(a.feedback.email))])],1)],1),a._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{sm:"3"}},[s("label",{attrs:{for:"wa"}},[a._v("Whatsapp Aktif")])]),a._v(" "),s("b-col",{attrs:{sm:"9"}},[s("b-form-input",{attrs:{id:"wa","invalid-feedback":a.feedback.wa,state:a.state.wa},model:{value:a.form.wa,callback:function(e){a.$set(a.form,"wa",e)},expression:"form.wa"}}),a._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:a.feedback.wa,expression:"feedback.wa"}],staticClass:"text-danger"},[a._v(a._s(a.feedback.wa))])],1)],1)],1),a._v(" "),s("b-col",{attrs:{cols:"5"}},[s("b-row",[s("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[s("p",[a._v("Foto Profil")]),a._v(" "),a.foto?s("b-img",{staticClass:"mb-1",attrs:{thumbnail:"",fluid:"",src:"/storage/"+a.foto,alt:"Foto Profil"}}):a._e(),a._v(" "),s("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",state:a.fileState},on:{change:a.onFileChange},model:{value:a.file,callback:function(e){a.file=e},expression:"file"}}),a._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:a.feedback_file,expression:"feedback_file"}],staticClass:"text-danger"},[a._v(a._s(a.feedback_file))])],1)],1)],1)],1),a._v(" "),s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("b-button",{attrs:{type:"submit",variant:"primary"}},[a._v("Simpan")])],1)],1)],1)],1)],1),a._v(" "),s("b-card",{attrs:{"no-body":""}},[s("b-card-header",[s("h4",{staticClass:"card-title"},[a._v("Perbaharui Kata Sandi")]),a._v(" "),s("b-card-text",{staticClass:"text-muted"},[a._v("\n        Pastikan akun Anda menggunakan kata sandi acak yang panjang agar tetap aman.\n      ")])],1),a._v(" "),s("b-form",{ref:"form_password",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),a.handleSubmitPassword(e)}}},[a.isBusy?s("b-card-body",[s("div",{staticClass:"text-center text-danger my-2"},[s("b-spinner",{staticClass:"align-middle"}),a._v(" "),s("strong",[a._v("Loading...")])],1)]):s("b-card-body",[s("b-alert",{attrs:{show:a.dismissCountDown,dismissible:"",variant:a.alert_variant},on:{dismissed:function(e){a.dismissCountDown=0},"dismiss-count-down":a.countDownChanged}},[s("div",{staticClass:"alert-body"},[s("span",[s("strong",[a._v(a._s(a.alert_title))]),a._v(" "+a._s(a.alert_text))])])]),a._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{sm:"3"}},[s("label",{attrs:{for:"name"}},[a._v("Kata sandi baru")])]),a._v(" "),s("b-col",{attrs:{sm:"9"}},[s("b-form-input",{attrs:{id:"password",type:"password","invalid-feedback":a.feedback_password,state:a.password_State},model:{value:a.password,callback:function(e){a.password=e},expression:"password"}}),a._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:a.feedback_password,expression:"feedback_password"}],staticClass:"text-danger"},[a._v(a._s(a.feedback_password))])],1)],1),a._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{sm:"3"}},[s("label",{attrs:{for:"no_hp"}},[a._v("Konfirmasi kata sandi")])]),a._v(" "),s("b-col",{attrs:{sm:"9"}},[s("b-form-input",{attrs:{id:"password_confirmation",type:"password","invalid-feedback":a.feedback_password_confirmation,state:a.password_confirmation_State},model:{value:a.password_confirmation,callback:function(e){a.password_confirmation=e},expression:"password_confirmation"}}),a._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:a.feedback_password_confirmation,expression:"feedback_password_confirmation"}],staticClass:"text-danger"},[a._v(a._s(a.feedback_password_confirmation))])],1)],1),a._v(" "),s("b-button",{staticClass:"float-right mb-1",attrs:{type:"submit",variant:"primary"}},[a._v("Simpan")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=g.exports}}]);